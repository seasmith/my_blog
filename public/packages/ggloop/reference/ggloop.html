<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create ggplot plots in a loop. — ggloop â€¢ ggloop</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">ggloop</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/seasmith/ggloop">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create ggplot plots in a loop.</h1>
    </div>

    
    <p><code>ggloop()</code> mimics <code>ggplot()</code> by accepting both a data frame and
mappings, returning a plot - or plots in this case. The main difference is
that <code>ggloop()</code> accepts vectors for aesthetics and returns a list or
nested list of <code>ggplot</code> plots.</p>
    

    <pre><span class='fu'>ggloop</span>(<span class='no'>data</span>, <span class='kw'>mappings</span> <span class='kw'>=</span> <span class='fu'><a href='aes_loop.html'>aes_loop</a></span>(), <span class='kw'>remap_xy</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>remap_dots</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>gg_obs</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>, <span class='kw'>environment</span> <span class='kw'>=</span> <span class='fu'>parent.frame</span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>data</dt>
      <dd>Default dataset to use for plot. Must be a data frame and can be
only one data frame.</dd>
      <dt>mappings</dt>
      <dd>List of aesthetic mappings to use for plots. Works like
<code>mapping</code> from <code>ggplot()</code>.</dd>
      <dt>remap_xy</dt>
      <dd>Remapping behavior of the <code>x</code> and <code>y</code> vectors
specified in <code>aes_loop()</code>. See details below for more on remapping
behavior.</dd>
      <dt>remap_dots</dt>
      <dd>Remapping behavior of the <code>...</code> vectors specified in
<code>aes_loop()</code>. See details below for more on remapping behavior.</dd>
      <dt>gg_obs</dt>
      <dd>Logical. Specifies whether to return plots or the list (or
nested list) of aesthetics used to make such a plots.</dd>
      <dt>...</dt>
      <dd>Other arguments. Similar to <code>ggplot()</code>&#39;s <code>...</code>.</dd>
      <dt>environment</dt>
      <dd>An environment and only one environment (cannot be a
vector). Similar to <code>ggplot()</code>&#39;s <code>environment</code>.</dd>
    </dl>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>ggloop()</code> makes use of <code>aes_loop</code>, which is meant to mimic
<code>aes</code> from <code>ggplot2</code>. Because of this, the remapping arguments are
supplied to <code>ggloop</code> instead of <code>aes_loop()</code>.</p>
    <p>The first remapping argument, <code>remap_xy</code> can take three values:
<ul>
<li><code>TRUE</code> = The default behavior. All unqiue combinations of
<code>x</code> and <code>y</code> are generated. This means that if a variable (i.e.
<code>mpg</code>) is supplied in both <code>x</code> and <code>y</code>, then no mapping will
have <code>x</code> and <code>y</code> variables that are the same (i.e. <code>x -&gt; mpg;
y -&gt; mpg</code> will not ever happen). Likewise, no unordered pair duplicates will
happen (i.e. <code>x -&gt; mpg; y -&gt; cyl</code> and <code>x -&gt; cyl; y -&gt; mpg</code> will be
treated the same).
  </li>
<li><code>FALSE</code> = If <code>x</code> and <code>y</code> vectors are not the same
length, then the shorter of the two will be recycled. Recycling is similar to
<code>mapply()</code>&#39;s recycling.
  </li>
<li><code>NA</code> = If <code>x</code> and <code>y</code> vectors are not the same length,
then the shorter of the two will have <code>NA</code> assigned to the missing
elements. These are meant to act as placeholders during the wrangling
operations (extracting and grouping the aesthetics), and will be taken out
before the final list of mappings is sent to <code>ggloop()</code>.</li>
</ul></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># 1. Return all possible x-y combinations.</span>
<span class='no'>plots</span> <span class='kw'>&lt;-</span> <span class='fu'>ggloop</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>,
                <span class='kw'>mappings</span> <span class='kw'>=</span> <span class='fu'><a href='aes_loop.html'>aes_loop</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>mpg</span>:<span class='no'>carb</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>mpg</span>:<span class='no'>carb</span>))
<span class='fu'>names</span>(<span class='no'>plots</span>)</div><div class='output co'>#&gt;  [1] &quot;x.mpg_y.cyl&quot;   &quot;x.mpg_y.disp&quot;  &quot;x.mpg_y.hp&quot;    &quot;x.mpg_y.drat&quot; 
#&gt;  [5] &quot;x.mpg_y.wt&quot;    &quot;x.mpg_y.qsec&quot;  &quot;x.mpg_y.vs&quot;    &quot;x.mpg_y.am&quot;   
#&gt;  [9] &quot;x.mpg_y.gear&quot;  &quot;x.mpg_y.carb&quot;  &quot;x.cyl_y.disp&quot;  &quot;x.cyl_y.hp&quot;   
#&gt; [13] &quot;x.cyl_y.drat&quot;  &quot;x.cyl_y.wt&quot;    &quot;x.cyl_y.qsec&quot;  &quot;x.cyl_y.vs&quot;   
#&gt; [17] &quot;x.cyl_y.am&quot;    &quot;x.cyl_y.gear&quot;  &quot;x.cyl_y.carb&quot;  &quot;x.disp_y.hp&quot;  
#&gt; [21] &quot;x.disp_y.drat&quot; &quot;x.disp_y.wt&quot;   &quot;x.disp_y.qsec&quot; &quot;x.disp_y.vs&quot;  
#&gt; [25] &quot;x.disp_y.am&quot;   &quot;x.disp_y.gear&quot; &quot;x.disp_y.carb&quot; &quot;x.hp_y.drat&quot;  
#&gt; [29] &quot;x.hp_y.wt&quot;     &quot;x.hp_y.qsec&quot;   &quot;x.hp_y.vs&quot;     &quot;x.hp_y.am&quot;    
#&gt; [33] &quot;x.hp_y.gear&quot;   &quot;x.hp_y.carb&quot;   &quot;x.drat_y.wt&quot;   &quot;x.drat_y.qsec&quot;
#&gt; [37] &quot;x.drat_y.vs&quot;   &quot;x.drat_y.am&quot;   &quot;x.drat_y.gear&quot; &quot;x.drat_y.carb&quot;
#&gt; [41] &quot;x.wt_y.qsec&quot;   &quot;x.wt_y.vs&quot;     &quot;x.wt_y.am&quot;     &quot;x.wt_y.gear&quot;  
#&gt; [45] &quot;x.wt_y.carb&quot;   &quot;x.qsec_y.vs&quot;   &quot;x.qsec_y.am&quot;   &quot;x.qsec_y.gear&quot;
#&gt; [49] &quot;x.qsec_y.carb&quot; &quot;x.vs_y.am&quot;     &quot;x.vs_y.gear&quot;   &quot;x.vs_y.carb&quot;  
#&gt; [53] &quot;x.am_y.gear&quot;   &quot;x.am_y.carb&quot;   &quot;x.gear_y.carb&quot;</div><div class='input'><span class='co'># [1] "x.mpg_y.cyl"   "x.mpg_y.disp"  "x.mpg_y.hp"    "x.mpg_y.drat"</span>
<span class='co'># [5] "x.mpg_y.wt"    "x.mpg_y.qsec"  "x.mpg_y.vs"    "x.mpg_y.am"</span>
<span class='co'># [9] "x.mpg_y.gear"  "x.mpg_y.carb"  "x.cyl_y.disp"  "x.cyl_y.hp"</span>
<span class='co'># [13] "x.cyl_y.drat"  "x.cyl_y.wt"    "x.cyl_y.qsec"  "x.cyl_y.vs"</span>
<span class='co'># [17] "x.cyl_y.am"    "x.cyl_y.gear"  "x.cyl_y.carb"  "x.disp_y.hp"</span>
<span class='co'># [21] "x.disp_y.drat" "x.disp_y.wt"   "x.disp_y.qsec" "x.disp_y.vs"</span>
<span class='co'># [25] "x.disp_y.am"   "x.disp_y.gear" "x.disp_y.carb" "x.hp_y.drat"</span>
<span class='co'># [29] "x.hp_y.wt"     "x.hp_y.qsec"   "x.hp_y.vs"     "x.hp_y.am"</span>
<span class='co'># [33] "x.hp_y.gear"   "x.hp_y.carb"   "x.drat_y.wt"   "x.drat_y.qsec"</span>
<span class='co'># [37] "x.drat_y.vs"   "x.drat_y.am"   "x.drat_y.gear" "x.drat_y.carb"</span>
<span class='co'># [41] "x.wt_y.qsec"   "x.wt_y.vs"     "x.wt_y.am"     "x.wt_y.gear"</span>
<span class='co'># [45] "x.wt_y.carb"   "x.qsec_y.vs"   "x.qsec_y.am"   "x.qsec_y.gear"</span>
<span class='co'># [49] "x.qsec_y.carb" "x.vs_y.am"     "x.vs_y.gear"   "x.vs_y.carb"</span>
<span class='co'># [53] "x.am_y.gear"   "x.am_y.carb"   "x.gear_y.carb"</span>

<span class='no'>plots</span>$<span class='no'>x.mpg_y.hp</span> + <span class='kw'>ggplot2</span><span class='kw'>::</span><span class='fu'>geom_point</span>()</div><img src='ggloop-4.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'># 2. Add an additional aesthetic (facet) to plots.</span>
<span class='no'>plots2</span> <span class='kw'>&lt;-</span> <span class='fu'>ggloop</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>,
                 <span class='kw'>mappings</span> <span class='kw'>=</span> <span class='fu'><a href='aes_loop.html'>aes_loop</a></span>(
                                     <span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='no'>disp</span>, <span class='no'>hp</span>, <span class='no'>wt</span>),
                                     <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>mpg</span>,
                                     <span class='kw'>color</span> <span class='kw'>=</span> <span class='fu'>factor</span>(<span class='no'>cyl</span>)))
<span class='fu'>sapply</span>(<span class='no'>plots2</span>, <span class='no'>names</span>)</div><div class='output co'>#&gt;      color.factor(cyl)
#&gt; [1,] &quot;x.disp_y.mpg&quot;   
#&gt; [2,] &quot;x.hp_y.mpg&quot;     
#&gt; [3,] &quot;x.wt_y.mpg&quot;     </div><div class='input'><span class='co'>#      color.factor(cyl)</span>
<span class='co'># [1,] "x.disp_y.mpg"</span>
<span class='co'># [2,] "x.hp_y.mpg"</span>
<span class='co'># [3,] "x.wt_y.mpg"</span>

<span class='no'>plots2</span>$<span class='no'>`color.factor(cyl)`</span>$<span class='no'>x.hp_y.mpg</span> + <span class='kw'>ggplot2</span><span class='kw'>::</span><span class='fu'>geom_point</span>()</div><img src='ggloop-8.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'># A look at remap_xy's other two behaviors:</span>
<span class='co'># 3. remap_xy = NA</span>
<span class='co'>#    The longer vector will go "unpaired" after the shorter vector</span>
<span class='co'>#    runs out of elements.</span>
<span class='no'>plots3</span> <span class='kw'>&lt;-</span> <span class='fu'>ggloop</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>,
                 <span class='kw'>mappings</span> <span class='kw'>=</span> <span class='fu'><a href='aes_loop.html'>aes_loop</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='no'>mpg</span>/<span class='no'>disp</span>, <span class='no'>mpg</span>/<span class='no'>hp</span>, <span class='no'>mpg</span>/<span class='no'>cyl</span>, <span class='no'>mpg</span>/<span class='no'>gear</span>),
                                     <span class='kw'>y</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='no'>hp</span>, <span class='no'>disp</span>)),
                 <span class='kw'>remap_xy</span> <span class='kw'>=</span> <span class='fl'>NA</span>)
<span class='fu'>names</span>(<span class='no'>plots3</span>)</div><div class='output co'>#&gt; [1] &quot;x.mpg/disp_y.hp&quot; &quot;x.mpg/hp_y.disp&quot; &quot;x.mpg/cyl&quot;       &quot;x.mpg/gear&quot;     </div><div class='input'><span class='co'># [1] "x.mpg/disp_y.hp" "x.mpg/hp_y.disp" "x.mpg/cyl"       "x.mpg/gear"</span>

<span class='co'># 4. remap_xy = FALSE</span>
<span class='co'>#    The longer vector will be "paired" with the shorter vector using</span>
<span class='co'>#    recycling (similar to R's internal recycling, i.e. mapply()).</span>
<span class='no'>plots4</span> <span class='kw'>&lt;-</span> <span class='fu'>ggloop</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>,
                 <span class='kw'>mappings</span> <span class='kw'>=</span> <span class='fu'><a href='aes_loop.html'>aes_loop</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='no'>mpg</span>/<span class='no'>disp</span>, <span class='no'>mpg</span>/<span class='no'>hp</span>, <span class='no'>mpg</span>/<span class='no'>cyl</span>, <span class='no'>mpg</span>/<span class='no'>gear</span>),
                                     <span class='kw'>y</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='no'>hp</span>, <span class='no'>disp</span>)),
                 <span class='kw'>remap_xy</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='fu'>sapply</span>(<span class='no'>plots4</span>, <span class='no'>names</span>)</div><div class='output co'>#&gt;       x.mpg/disp_y.hp x.mpg/hp_y.disp x.mpg/cyl_y.hp x.mpg/gear_y.disp
#&gt;  [1,] &quot;data&quot;          &quot;data&quot;          &quot;data&quot;         &quot;data&quot;           
#&gt;  [2,] &quot;layers&quot;        &quot;layers&quot;        &quot;layers&quot;       &quot;layers&quot;         
#&gt;  [3,] &quot;scales&quot;        &quot;scales&quot;        &quot;scales&quot;       &quot;scales&quot;         
#&gt;  [4,] &quot;mapping&quot;       &quot;mapping&quot;       &quot;mapping&quot;      &quot;mapping&quot;        
#&gt;  [5,] &quot;theme&quot;         &quot;theme&quot;         &quot;theme&quot;        &quot;theme&quot;          
#&gt;  [6,] &quot;coordinates&quot;   &quot;coordinates&quot;   &quot;coordinates&quot;  &quot;coordinates&quot;    
#&gt;  [7,] &quot;facet&quot;         &quot;facet&quot;         &quot;facet&quot;        &quot;facet&quot;          
#&gt;  [8,] &quot;plot_env&quot;      &quot;plot_env&quot;      &quot;plot_env&quot;     &quot;plot_env&quot;       
#&gt;  [9,] &quot;labels&quot;        &quot;labels&quot;        &quot;labels&quot;       &quot;labels&quot;         </div><div class='input'><span class='co'># [1] "x.mpg/disp_y.hp"   "x.mpg/hp_y.disp"   "x.mpg/cyl_y.hp"    "x.mpg/gear_y.disp"</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Luke Smith.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
