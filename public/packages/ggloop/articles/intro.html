<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Intro to ggloop • ggloop</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">ggloop</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/seasmith/ggloop">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Intro to ggloop</h1>
                        <h4 class="author">Luke Smith</h4>
            
            <h4 class="date">2017-01-13</h4>
          </div>

    
    
<div class="contents">
<div id="table-of-contents" class="section level1">
<h1 class="hasAnchor">
<html><body><a href="#table-of-contents" class="anchor"> </a></body></html>Table of Contents</h1>
<ul>
<li><a href="#overview">Overview</a></li>
<li>
<a href="#main-functions">Main Functions</a>
<ul>
<li><a href="#ggloop">ggloop</a></li>
<li><a href="#aes_loop">aes_loop</a></li>
<li><a href="#gglist">+.gglist</a></li>
</ul>
</li>
<li>
<a href="#trivial-examples">Trivial Examples</a>
<ul>
<li><a href="#example-1">Example 1</a></li>
<li><a href="#example-2">Example 2</a></li>
<li><a href="#example-3">Example 3</a></li>
</ul>
</li>
</ul>
</div>
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<html><body><a href="#overview" class="anchor"> </a></body></html>Overview</h1>
<p><code>ggloop</code>’s main function is <code><a href="../reference/ggloop.html">ggloop()</a></code>, and it allows the user to create one of two things:</p>
<ol style="list-style-type: decimal">
<li>Multiple <code>ggplot2</code> plots.</li>
<li>A list of aesthetics, which can used to make <code>ggplot2</code> plots using <code>ggplot()</code>.</li>
</ol>
<p>Instead of passing a single aesthetic (<code>x</code>, <code>y</code>, <code>...</code>) to <code>ggplot()</code>, the user can pass multiple aesthetics by using a vector of aesthetics. “Remapping”" behaviors control how the <code>x</code> and <code>y</code> vectors are paired with one another, and they control how mutliple <code>...</code> arguments are paired with one another.</p>
<p>The <code>gg_obs</code> argument controls the returned value: either <code>ggplot2</code> plots or a list of aesthetics which can be used to make <code>ggplot2</code> plots. <code>gg_obs</code>’s default value is <code>TRUE</code>, which instructs <code><a href="../reference/ggloop.html">ggloop()</a></code> to return plots. <code>FALSE</code> instructs <code><a href="../reference/ggloop.html">ggloop()</a></code> to return a list of aesthetics.</p>
<hr>
</div>
<div id="main-functions" class="section level1">
<h1 class="hasAnchor">
<html><body><a href="#main-functions" class="anchor"> </a></body></html>Main Functions</h1>
<div id="ggloop" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#ggloop" class="anchor"> </a></body></html>
<code>ggloop</code>
</h2>
<p>Mimicry of <code>ggplot()</code>’s arguments (for the most part).</p>
<div id="args" class="section level5">
<h5 class="hasAnchor">
<html><body><a href="#args" class="anchor"> </a></body></html>Args</h5>
<ul>
<li>
<code>data</code> = Same as <code>data</code>
</li>
<li>
<code>mappings</code> = Same as <code>mapping</code>, except <code><a href="../reference/aes_loop.html">aes_loop()</a></code> is used in place of <code>aes()</code>. There currently is no support for a “strings”-type function.</li>
<li>
<code>remap_xy</code> = Controls the “remapping” behavior of the <code>x</code> and <code>y</code> vectors. Default = <code>TRUE</code>; other options include <code>FALSE</code> and <code>NA</code>.
<ul>
<li>
<code>TRUE</code> = acts like <code>expand.grid()</code> except that exact duplicates (i.e. <code>x &lt;- mpg; y &lt;- mpg</code>) and unordered-pair duplicates (i.e. <code>x &lt;- mpg; y &lt;- cyl</code> and <code>x &lt;- cyl; y &lt;- mpg</code>) are removed.</li>
<li>
<code>FALSE</code> = acts like R’s internal recycling mechanism, which replicates the shorter of the two vectors however many times necessary to pair with the longer vector.</li>
<li>
<code>NA</code> = leaves an unpaired vector element unpaired (i.e. <code>x = (mpg, wt, hp); y = (cyl, gear)</code> produces <code>x &lt;- hp</code> with no y mapping)</li>
</ul>
</li>
<li>
<code>remap_dots</code> = Controls the “remapping” behavior of the <code>dots</code> arguments. Default = <code>FALSE</code>; other option is <code>FALSE</code>.
<ul>
<li>
<code>TRUE</code> = acts like R’s internal recycling mechanism, which replicates the shorter of the two vectors however many times necessary to pair with the longer vector.</li>
<li>
<code>FALSE</code> = leaves un unpaired vecotr element unpaired; similar to <code>remap_xy = NA</code> behavior.</li>
</ul>
</li>
<li>
<code>gg_obs</code> = Controls the returned value. <code>TRUE</code> (default) returns <code>ggplot2</code> plots; <code>FALSE</code> returns a list of aesthetics (see <a href="#value">Value</a>).</li>
<li>
<code>...</code> = The same as <code>...</code>; directly passed to <code>ggplot()</code>.</li>
<li>
<code>environment</code> = The same as <code>environment</code>; directly passed into <code>ggplot()</code>.</li>
</ul>
</div>
<div id="value" class="section level5">
<h5 class="hasAnchor">
<html><body><a href="#value" class="anchor"> </a></body></html>Value</h5>
<p>There are two main types of returned values when <code>gg_obs = TRUE</code>:</p>
<ol style="list-style-type: decimal">
<li>A list of <code>ggplot2</code> plots - when no <code>...</code> are specified in <code><a href="../reference/aes_loop.html">aes_loop()</a></code>.</li>
<li>A nested list (a list of a list) of <code>ggplot2</code> plots - when there are <code>...</code> specified in <code><a href="../reference/aes_loop.html">aes_loop()</a></code>.</li>
</ol>
</div>
</div>
<div id="aes_loop" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#aes_loop" class="anchor"> </a></body></html>
<code>aes_loop</code>
</h2>
<p>Mimicry of <code>ggplot()</code>’s <code>aes()</code>, except:</p>
<ol style="list-style-type: decimal">
<li>You can use <code>dplyr</code>’s syntax to call variables (i.e. <code>y = mpg:cyl</code>, <code>x = 1:5</code>, etc). You can still use <code>ggplot2</code>’s syntax to call variables (i.e. <code>x = disp</code>, <code>x = mpg/hp</code>, <code>color = factor(cyl)</code>, <code>y = gear + cyl</code>, etc). You can also use both within a vector, but do adhere to the rule below.</li>
<li>If you are calling more than one variable, then you need to wrap the variables in <code>c()</code> and not have any other <code>c()</code> within that wrapping (i.e. <code>x = c(mpg:cyl, 5, 6:8, gear + cyl, mpg/hp)</code>, <code>color = c(factor(cyl), factor(gear))</code>).</li>
</ol>
<div id="args-1" class="section level5">
<h5 class="hasAnchor">
<html><body><a href="#args-1" class="anchor"> </a></body></html>Args</h5>
<ul>
<li>
<code>x</code> = Same as <code>x</code>
</li>
<li>
<code>y</code> = Same as <code>y</code>
</li>
<li>
<code>...</code> = Same as <code>...</code>
</li>
</ul>
</div>
</div>
<div id="gglist" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#gglist" class="anchor"> </a></body></html>
<code>+.gglist</code>
</h2>
<p>A <code>+</code> operator method for objects with class <code>gglist</code> (the returned objects of <code><a href="../reference/ggloop.html">ggloop()</a></code>). <code>+.gglist</code> will add features to plots in both:</p>
<ol style="list-style-type: decimal">
<li>A list of <code>ggplot2</code> plots.</li>
<li>A nested list (a list of a list) of <code>ggplot2</code> plots.</li>
</ol>
<p>Users can <code>+.gglist</code> by calling <code>+</code>, like they would when using <code>+.gg</code> from the <code>ggplot2</code> package. Much like <code>+.gg</code>, the results of <code>+.gglist</code> will not be saved unless the result is assigned.</p>
<hr>
</div>
</div>
<div id="trivial-examples" class="section level1">
<h1 class="hasAnchor">
<html><body><a href="#trivial-examples" class="anchor"> </a></body></html>Trivial Examples</h1>
<div id="example-1" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#example-1" class="anchor"> </a></body></html>Example 1</h2>
<p><strong>Example:</strong> Using the <code>mtcars</code> data set, create and plot all possible xy-pairs between <code>mpg</code> and <code>hp</code>.<br><strong>Steps:</strong> Load the necessary packages, create plots with <code><a href="../reference/ggloop.html">ggloop()</a></code>, and add to plots using <code>+.gglist</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(ggloop)
g &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ggloop.html">ggloop</a></span>(mtcars, <span class="kw"><a href="../reference/aes_loop.html">aes_loop</a></span>(<span class="dt">x =</span> mpg:hp, <span class="dt">y =</span> mpg:hp))

<span class="co"># View some plots</span>
g$x.mpg_y.hp +<span class="st"> </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="intro_files/figure-html/xy-pairs-1.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">g$x.cyl_y.disp +<span class="st"> </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="intro_files/figure-html/xy-pairs-2.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">g$x.disp_y.hp +<span class="st"> </span><span class="kw">geom_point</span>() +<span class="st"> </span><span class="kw">geom_line</span>()</code></pre></div>
<p><img src="intro_files/figure-html/xy-pairs-3.png" width="672"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Use `+.gglist` to add to two plots, save the output, and then display the results.</span>
g[<span class="dv">1</span>:<span class="dv">2</span>] &lt;-<span class="st"> </span>g[<span class="dv">1</span>:<span class="dv">2</span>] +<span class="st"> </span><span class="kw">geom_point</span>()
g[<span class="dv">1</span>:<span class="dv">2</span>]</code></pre></div>
<pre><code>## $x.mpg_y.cyl</code></pre>
<p><img src="intro_files/figure-html/xy-pairs-4.png" width="672"></p>
<pre><code>## 
## $x.mpg_y.disp</code></pre>
<p><img src="intro_files/figure-html/xy-pairs-5.png" width="672"></p>
<pre><code>## 
## attr(,"class")
## [1] "gglist"</code></pre>
<p>Look at the mappings of each name in <code>g</code>. Note how the list is NOT nested (because no <code>...</code> were called in <code><a href="../reference/aes_loop.html">aes_loop()</a></code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lapply</span>(g, <span class="st">`</span><span class="dt">[[</span><span class="st">`</span>, <span class="st">"mapping"</span>)</code></pre></div>
<pre><code>## $x.mpg_y.cyl
## * x -&gt; mpg
## * y -&gt; cyl
## 
## $x.mpg_y.disp
## * x -&gt; mpg
## * y -&gt; disp
## 
## $x.mpg_y.hp
## * x -&gt; mpg
## * y -&gt; hp
## 
## $x.cyl_y.disp
## * x -&gt; cyl
## * y -&gt; disp
## 
## $x.cyl_y.hp
## * x -&gt; cyl
## * y -&gt; hp
## 
## $x.disp_y.hp
## * x -&gt; disp
## * y -&gt; hp</code></pre>
</div>
<div id="example-2" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#example-2" class="anchor"> </a></body></html>Example 2</h2>
<p><strong>Example:</strong> Plot <code>c(mpg, disp, hp)</code> against <code>wt</code> and facet the resulting plots.<br><strong>Steps:</strong> Create plots, add geoms, and add <code>facet_grid()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">g2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ggloop.html">ggloop</a></span>(mtcars, <span class="kw"><a href="../reference/aes_loop.html">aes_loop</a></span>(<span class="dt">x =</span> <span class="kw">c</span>(mpg, disp, hp), <span class="dt">y =</span> wt, <span class="dt">color =</span> <span class="kw">factor</span>(cyl))) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">facet_grid</span>(. ~<span class="st"> </span>cyl)

<span class="co"># View some plots</span>
g2$<span class="st">`</span><span class="dt">color.factor(cyl)</span><span class="st">`</span>[<span class="dv">1</span>:<span class="dv">3</span>]</code></pre></div>
<pre><code>## $x.mpg_y.wt</code></pre>
<p><img src="intro_files/figure-html/facet-1-1.png" width="672"></p>
<pre><code>## 
## $x.disp_y.wt</code></pre>
<p><img src="intro_files/figure-html/facet-1-2.png" width="672"></p>
<pre><code>## 
## $x.hp_y.wt</code></pre>
<p><img src="intro_files/figure-html/facet-1-3.png" width="672"></p>
<pre><code>## 
## attr(,"class")
## [1] "gglist"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Look at the mappings of each name in `g2`. Note how the list is nested</span>
<span class="co"># (because a `...` argument was called in `aes_loop()`).</span>
<span class="kw">lapply</span>(g2, function(x) <span class="kw">lapply</span>(x, <span class="st">`</span><span class="dt">[[</span><span class="st">`</span>, <span class="st">"mapping"</span>))</code></pre></div>
<pre><code>## $`color.factor(cyl)`
## $`color.factor(cyl)`$x.mpg_y.wt
## * x      -&gt; mpg
## * y      -&gt; wt
## * colour -&gt; factor(cyl)
## 
## $`color.factor(cyl)`$x.disp_y.wt
## * x      -&gt; disp
## * y      -&gt; wt
## * colour -&gt; factor(cyl)
## 
## $`color.factor(cyl)`$x.hp_y.wt
## * x      -&gt; hp
## * y      -&gt; wt
## * colour -&gt; factor(cyl)</code></pre>
</div>
<div id="example-3" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#example-3" class="anchor"> </a></body></html>Example 3</h2>
<p><strong>Example:</strong> Return the list of aesthetics rather than the list of plots.<br><strong>Steps:</strong> Call <code><a href="../reference/ggloop.html">ggloop()</a></code> with <code>gg_obs = FALSE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">g3 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ggloop.html">ggloop</a></span>(mtcars,
             <span class="kw"><a href="../reference/aes_loop.html">aes_loop</a></span>(<span class="dt">x =</span> <span class="kw">c</span>(mpg, disp, hp), <span class="dt">y =</span> wt, <span class="dt">color =</span> <span class="kw">c</span>(<span class="kw">factor</span>(cyl), <span class="kw">factor</span>(gear))), 
             <span class="dt">gg_obs =</span> <span class="ot">FALSE</span>)
<span class="kw">print</span>(g3)</code></pre></div>
<pre><code>## [[1]]
## [[1]][[1]]
## * x      -&gt; mpg
## * y      -&gt; wt
## * colour -&gt; factor(cyl)
## 
## [[1]][[2]]
## * x      -&gt; disp
## * y      -&gt; wt
## * colour -&gt; factor(cyl)
## 
## [[1]][[3]]
## * x      -&gt; hp
## * y      -&gt; wt
## * colour -&gt; factor(cyl)
## 
## 
## [[2]]
## [[2]][[1]]
## * x      -&gt; mpg
## * y      -&gt; wt
## * colour -&gt; factor(gear)
## 
## [[2]][[2]]
## * x      -&gt; disp
## * y      -&gt; wt
## * colour -&gt; factor(gear)
## 
## [[2]][[3]]
## * x      -&gt; hp
## * y      -&gt; wt
## * colour -&gt; factor(gear)</code></pre>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#table-of-contents">Table of Contents</a></li>
      <li><a href="#overview">Overview</a></li>
      <li>
<a href="#main-functions">Main Functions</a><ul class="nav nav-pills nav-stacked">
<li><a href="#ggloop"><code>ggloop</code></a></li>
      <li><a href="#aes_loop"><code>aes_loop</code></a></li>
      <li><a href="#gglist"><code>+.gglist</code></a></li>
      </ul>
</li>
      <li>
<a href="#trivial-examples">Trivial Examples</a><ul class="nav nav-pills nav-stacked">
<li><a href="#example-1">Example 1</a></li>
      <li><a href="#example-2">Example 2</a></li>
      <li><a href="#example-3">Example 3</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Luke Smith.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
